<div class="container-all">
  <h3 style="color: #00a587">Resultado da Simulação de Liquidação de Cosseguro </h3>
  <div class="container-header">
    <div class="header-spans col-12">
      <span style="width: 5%;"> Cia </span>
      <span style="width: 20%;"> Tokio Marine Suguradora S.A </span>
      <span style="width: 5%;"> Cosseg. </span>
      <span style="width: 14%;"> RADU HARLOW PLEWA </span>
      <span style="width: 14%;"> NÃO CONVÊNIO</span>
      <span style="width: 20%;"> Data Prevista p/ Liquidação </span>
      <span style="width: 14%;"> Usuário Responsável </span>
    </div>
  </div>

  <div class="container-table">
    <div class="boxShadow">
      <div style="display: flex; text-align: monetary;" class="col-12">
        <div class="col-2"></div>
        <div class="col-2 infoValue">
          <p style="border-bottom: 2px solid ; width: 98%;">Prêmios</p>
        </div>
        <div class="col-2 infoValue">
          <p style="border-bottom: 2px solid ; width: 98%;">Sinistros</p>
        </div>
        <div class="col-2 infoValue">
          <p style="border-bottom: 2px solid ; width: 98%;">Correções Monetárias</p>
        </div>
        <div class="col-4"></div>
      </div>



      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 col-12">

        <ng-container *ngFor="let columnName of displayedColumns, let i = index" [matColumnDef]="columnName">
          <th [ngClass]="{'col-2': i === displayedColumns.length - 1, 'col-1': i !== displayedColumns.length - 1 }"
            class="center" mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ columnName === 'select' ? '' : columnName}}
          </th>
          <ng-container *ngIf="i === 0; else cellContent">
            <td [ngClass]="{'infoValue': i === 0, 'textRight': i >= 1 }" mat-cell *matCellDef="let row">
              <mat-checkbox (click)="onRowClick(row, $event)" (change)="$event ? selection.toggle(row) : null"
                [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-template #cellContent>
            <td [ngClass]="{'infoValue': i === 1 , 'textRight': i >= 2 }" mat-cell *matCellDef="let row">
              {{ i === 1 ? row[columnName] : row[columnName] | currency:'BRL'}}
            </td>


          </ng-template>
          <td [ngClass]="{'descriptiveText': i === 0, 'textRight': i >= 1  }" mat-footer-cell
            *matFooterCellDef="let row">
            {{columnName === 'ramo' ? 'Sub-Total': getMinValue(columnName) | currency:'BRL'}}
          </td>
          <td mat-footer-cell *matFooterCellDef="let row">
            {{columnName === 'ramo' ? 'Ajus. Manuais': getMinItem(columnName)}}
          </td>
          <td mat-footer-cell *matFooterCellDef="let row">
            {{columnName === 'ramo' ? 'C.M.Prevista': countMinItem(columnName)}}
          </td>
          <td mat-footer-cell *matFooterCellDef="let row">
            {{columnName === 'ramo' ? 'Total Geral': getTotalCost()}}
          </td>
        </ng-container>

        <ng-container *ngFor="let columnName of displayedColumns2,  let i = index" [matColumnDef]="columnName">
          <td [ngClass]="{'descriptiveText': i === 0, 'textRight': i >= 1  }" mat-footer-cell
            *matFooterCellDef="let row;">
            {{columnName === 'f2_ramo' ? 'Ajus. Manuais': getMinItem(columnName) | currency:'BRL'}}
          </td>
        </ng-container>

        <ng-container *ngFor="let columnName of displayedColumns3,  let i = index" [matColumnDef]="columnName">
          <td [ngClass]="{'descriptiveText': i === 0, 'textRight': i >= 1  }" mat-footer-cell
            *matFooterCellDef="let row;">
            {{columnName === 'f3_ramo' ? 'C.M.Prevista': countMinItem(columnName) | currency:'BRL'}}
          </td>
        </ng-container>

        <ng-container *ngFor="let columnName of displayedColumns4, let i = index" [matColumnDef]="columnName">
          <td [ngClass]="{'descriptiveText': i === 0, 'textRight': i >= 1  }" mat-footer-cell
            *matFooterCellDef="let row;">
            {{columnName === 'f4_ramo' ? 'Total Geral': countMinItem(columnName) | currency:'BRL'}}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns2"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns3"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns4"></tr>

      </table>
      <div class="buttonLoyout">

        <mat-icon class="buttonDownload">archive</mat-icon>
        <button mat-raised-button class="buttonColorInteraction">Liquidar</button>
        <button (click)="fecharModal()" mat-raised-button class="buttonDefault">Cancelar</button>
      </div>
    </div>
  </div>
</div>
